<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Validasi</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        form {
            max-width: 400px;
            margin: 20px auto;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
        }

        .error {
            color: red;
        }

        #result {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <form id="myForm" onsubmit="validateForm(); return false;">
        <label for="namaPelanggan">Nama Pelanggan:</label>
        <input type="text" id="namaPelanggan" required maxlength="30">

        <label for="email">Email:</label>
        <input type="text" id="email" required>

        <label for="jamKeberangkatan">Jam Keberangkatan:</label>
        <input type="time" id="jamKeberangkatan" required pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$">

        <label for="tujuanKeberangkatan">Tujuan Keberangkatan:</label>
        <input type="text" id="tujuanKeberangkatan" required>

        <label for="jumlahTiket">Jumlah Tiket:</label>
        <input type="number" id="jumlahTiket" required min="1" max="10">

        <button type="submit">Submit</button>
    </form>

    <div id="result"></div>

    <script>
        function validateForm() {
            let namaPelanggan = document.getElementById("namaPelanggan").value;
            let email = document.getElementById("email").value;
            let jamKeberangkatan = document.getElementById("jamKeberangkatan").value;
            let tujuanKeberangkatan = document.getElementById("tujuanKeberangkatan").value;
            let jumlahTiket = document.getElementById("jumlahTiket").value;

            let isValid = true;
            let errorMessage = "";

            // Validasi Nama Pelanggan
            if (namaPelanggan.length === 0 || namaPelanggan.length > 30) {
                isValid = false;
                errorMessage += "Nama Pelanggan tidak valid. ";
                document.getElementById("namaPelanggan").classList.add("error");
            } else {
                document.getElementById("namaPelanggan").classList.remove("error");
            }

            // Validasi Email
            let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                isValid = false;
                errorMessage += "Email tidak valid. ";
                document.getElementById("email").classList.add("error");
            } else {
                document.getElementById("email").classList.remove("error");
            }

            // Validasi Jam Keberangkatan
            let jamRegex = /^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/;
            if (!jamRegex.test(jamKeberangkatan)) {
                isValid = false;
                errorMessage += "Jam Keberangkatan tidak valid. ";
                document.getElementById("jamKeberangkatan").classList.add("error");
            } else {
                document.getElementById("jamKeberangkatan").classList.remove("error");
            }

            // Validasi Tujuan Keberangkatan
            if (tujuanKeberangkatan.length === 0) {
                isValid = false;
                errorMessage += "Tujuan Keberangkatan tidak valid. ";
                document.getElementById("tujuanKeberangkatan").classList.add("error");
            } else {
                document.getElementById("tujuanKeberangkatan").classList.remove("error");
            }

            // Validasi Jumlah Tiket
            if (jumlahTiket < 1 || jumlahTiket > 10 || isNaN(jumlahTiket) || !Number.isInteger(Number(jumlahTiket))) {
                isValid = false;
                errorMessage += "Jumlah Tiket tidak valid. ";
                document.getElementById("jumlahTiket").classList.add("error");
            } else {
                document.getElementById("jumlahTiket").classList.remove("error");
            }

            // Menampilkan pesan error atau hasil data jika valid
            if (isValid) {
                // Tampilkan hasil data
                let resultDiv = document.getElementById("result");
                resultDiv.innerHTML = `
                    <h2>Hasil Formulir:</h2>
                    <p><strong>Nama Pelanggan:</strong> ${namaPelanggan}</p>
                    <p><strong>Email:</strong> ${email}</p>
                    <p><strong>Jam Keberangkatan:</strong> ${jamKeberangkatan}</p>
                    <p><strong>Tujuan Keberangkatan:</strong> ${tujuanKeberangkatan}</p>
                    <p><strong>Jumlah Tiket:</strong> ${jumlahTiket}</p>
                `;
                resultDiv.classList.remove("error");
            } else {
                // Tampilkan pesan error
                let resultDiv = document.getElementById("result");
                resultDiv.innerHTML = `<p class="error">${errorMessage}</p>`;
                resultDiv.classList.add("error");
            }
        }
    </script>
</body>
</html>
